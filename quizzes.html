<!DOCTYPE html><!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HEEMO | Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</title>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<style>
body{font-family:'Tajawal',sans-serif;background:#0b1120;color:#fff;margin:0}
header{padding:15px 8%;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #1f2937;position:relative}
.logo-img{height:150px}
nav ul{list-style:none;display:flex;gap:10px;padding:0}
nav a{color:#fff;text-decoration:none;padding:8px 15px;border-radius:8px}
.active-link{background:#1f2937}

/* Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø­Ø³Ø§Ø¨ */
#account-icon{position:absolute;left:20px;top:20px;font-size:22px;cursor:pointer}
#account-menu{display:none;position:absolute;left:0;top:40px;background:#111827;border:1px solid #334155;border-radius:15px;width:200px;padding:15px;text-align:right;z-index:1000}
#account-menu p{margin:10px 0;font-weight:bold}
#account-menu input{width:100%;padding:8px;margin:5px 0;border-radius:8px;border:none}
#account-menu button{width:100%;padding:10px;margin-top:10px;border:none;border-radius:10px;cursor:pointer;font-weight:bold}
#account-menu button:hover{filter:brightness(1.2)}

/* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
.main-content{max-width:1200px;margin:auto;padding:40px 8%}
.section-title{font-size:22px;margin:40px 0 20px;font-weight:bold}
.card-container{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:20px}
.card{background:#111827;border:1px solid #1f2937;border-radius:16px;padding:20px;text-align:center;transition:.3s;position:relative}
.card.locked{opacity:.4;pointer-events:none}
.card.locked::after{content:"ğŸ”’ Ù…Ù‚ÙÙ„";position:absolute;top:10px;left:10px;font-size:12px;color:#fff;background:#000;padding:4px 8px;border-radius:6px}
.card i{font-size:36px;margin-bottom:10px}
.btn-start{width:100%;padding:10px;margin-top:15px;border:none;border-radius:8px;cursor:pointer;font-weight:bold}

/* Quiz */
#quiz-container{display:none;max-width:600px;margin:40px auto;background:#111827;border:1px solid #fff;border-radius:20px;padding:30px}
#timer-bar{font-size:14px;color:#94a3b8;margin-bottom:10px;text-align:left;}
.option-btn{width:100%;padding:12px;margin-top:10px;background:#1f2937;color:#fff;border:1px solid #333;border-radius:10px;cursor:pointer}
#next-btn{display:none;margin-top:20px;width:100%;padding:12px;font-weight:bold}
#quit-btn{display:inline-block;margin-top:10px;padding:8px 15px;border-radius:8px;background:#ef4444;color:#fff;border:none;cursor:pointer}
#result-container{display:none;text-align:center;padding:60px 20px}
#certificate-container{display:none;text-align:center;padding:40px;background:#111827;border:2px solid #fff;border-radius:20px;margin:40px auto;max-width:600px}
#certificate-container h2{color:#22c55e;margin-bottom:20px}
#certificate-container p{margin:15px 0;font-size:18px}

/* Ø´Ù‡Ø§Ø¯Ø§ØªÙƒ */
#my-certificates-container{display:none;text-align:center;padding:40px;background:#111827;border:2px solid #fff;border-radius:20px;margin:40px auto;max-width:600px}
#my-certificates-container h2{color:#22c55e;margin-bottom:20px}
#my-certificates-container p{margin:10px 0;font-size:16px;color:#fff}
</style>
</head>
<body>

<header>
<img src="images/logo.png" class="logo-img">
<nav>
<ul>
<li><a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
<li><a href="join.html">Ø§Ù„Ø´Ø±Ø­</a></li>
<li><a class="active-link">Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</a></li>
</ul>
</nav>

<!-- Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø­Ø³Ø§Ø¨ -->
<div id="account-icon"><i class="fas fa-user-circle"></i></div>
<div id="account-menu">
<p id="user-name">ØºÙŠØ± Ù…Ø³Ø¬Ù„</p>
<input type="text" id="username" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ">
<button onclick="login()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
<button onclick="logout()" style="display:none;background:#ef4444;margin-top:10px;">ØªØºÙŠÙŠØ± Ø§Ù„Ø­Ø³Ø§Ø¨</button>
<button id="my-certificates-btn" style="display:none;margin-top:10px;background:#2563eb;color:white;font-weight:bold;">Ø´Ù‡Ø§Ø¯Ø§ØªÙƒ</button>
</div>
</header>

<div id="main-content-wrapper" class="main-content">
<h2 class="section-title" style="color:#e34c26">Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª HTML</h2>
<div class="card-container">
<div class="card" data-quiz="html1"><i class="fab fa-html5" style="color:#e34c26"></i><h3>HTML 1</h3><button class="btn-start" onclick="startQuiz('html1')">Ø§Ø¨Ø¯Ø£</button></div>
<div class="card locked" data-quiz="html2"><i class="fab fa-html5" style="color:#e34c26"></i><h3>HTML 2</h3><button class="btn-start">Ù…Ù‚ÙÙ„</button></div>
<div class="card locked" data-quiz="html3"><i class="fab fa-html5" style="color:#e34c26"></i><h3>HTML 3</h3><button class="btn-start">Ù…Ù‚ÙÙ„</button></div>
<div class="card locked" data-quiz="html4"><i class="fab fa-html5" style="color:#e34c26"></i><h3>HTML 4</h3><button class="btn-start">Ù…Ù‚ÙÙ„</button></div>
<div class="card locked" data-quiz="html5"><i class="fab fa-html5" style="color:#e34c26"></i><h3>HTML 5</h3><button class="btn-start">Ù…Ù‚ÙÙ„</button></div>
</div>

<hr style="border:0;border-top:1px solid #1f2937;margin:60px 0">

<h2 class="section-title" style="color:#264de4">Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª CSS</h2>
<div class="card-container">
<div class="card" data-quiz="css1"><i class="fab fa-css3-alt" style="color:#264de4"></i><h3>CSS 1</h3><button class="btn-start" onclick="startQuiz('css1')">Ø§Ø¨Ø¯Ø£</button></div>
<div class="card locked" data-quiz="css2"><i class="fab fa-css3-alt" style="color:#264de4"></i><h3>CSS 2</h3><button class="btn-start">Ù…Ù‚ÙÙ„</button></div>
<div class="card locked" data-quiz="css3"><i class="fab fa-css3-alt" style="color:#264de4"></i><h3>CSS 3</h3><button class="btn-start">Ù…Ù‚ÙÙ„</button></div>
<div class="card locked" data-quiz="css4"><i class="fab fa-css3-alt" style="color:#264de4"></i><h3>CSS 4</h3><button class="btn-start">Ù…Ù‚ÙÙ„</button></div>
<div class="card locked" data-quiz="css5"><i class="fab fa-css3-alt" style="color:#264de4"></i><h3>CSS 5</h3><button class="btn-start">Ù…Ù‚ÙÙ„</button></div>
</div>
</div>

<!-- Quiz -->
<div id="quiz-container">
<div id="timer-bar"></div>
<h2 id="question-text"></h2>
<div id="options-container"></div>
<button id="next-btn" onclick="nextQuestion()">Ø§Ù„ØªØ§Ù„ÙŠ</button>
<button id="quit-btn" onclick="quitQuiz()">Ø§Ù„Ø±Ø¬ÙˆØ¹</button>
</div>

<!-- Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± -->
<div id="result-container">
<h2>Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ğŸ‰</h2>
<p id="score-text"></p>
<button class="btn-start" onclick="location.reload()">Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</button>
</div>

<!-- Ø´Ù‡Ø§Ø¯Ø© ÙˆØ§Ø­Ø¯Ø© -->
<div id="certificate-container">
<h2>ğŸ† Ø´Ù‡Ø§Ø¯Ø© Ø´ÙƒØ± ğŸ†</h2>
<p id="cert-lang"></p>
<p id="cert-user"></p>
<p id="cert-score"></p>
<button class="btn-start" onclick="location.reload()">Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</button>
</div>

<!-- Ø´Ù‡Ø§Ø¯Ø§ØªÙƒ -->
<div id="my-certificates-container">
<h2>ğŸ† Ø´Ù‡Ø§Ø¯Ø§ØªÙƒ ğŸ†</h2>
<div id="certificates-list"></div>
<button class="btn-start" onclick="closeCertificates()">Ø±Ø¬ÙˆØ¹</button>
</div>

<script>
// ØªØ±ØªÙŠØ¨ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
const order=["html1","html2","html3","html4","html5","css1","css2","css3","css4","css5"];
let unlocked=JSON.parse(localStorage.getItem("unlocked"))||["html1","css1"];
let currentUser=localStorage.getItem("heemoUser")||"";

// ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø¯Ø±Ø¬Ø§Øª Ù„ÙƒÙ„ Ù„ØºØ©
let grades=JSON.parse(localStorage.getItem("grades"))||{html:[],css:[]};

function updateLocks(){
document.querySelectorAll(".card").forEach(card=>{
const q=card.dataset.quiz;
if(unlocked.includes(q)){
card.classList.remove("locked");
card.querySelector("button").innerText="Ø§Ø¨Ø¯Ø£";
card.querySelector("button").onclick=()=>startQuiz(q);
}else{
card.classList.add("locked");
card.querySelector("button").innerText="Ù…Ù‚ÙÙ„";
card.querySelector("button").onclick=null;
}
});
}

// ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆØ§Ù„Ø®Ø±ÙˆØ¬
function login(){
let username=document.getElementById("username").value.trim();
if(username===""){alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù…Ùƒ"); return;}
if(username!==currentUser){
currentUser=username;
localStorage.setItem("heemoUser",username);
localStorage.setItem("unlocked",JSON.stringify(["html1","css1"])); // HTML1 Ùˆ CSS1 Ù…ÙØªÙˆØ­ÙŠÙ†
unlocked=["html1","css1"];
grades={html:[],css:[]};
localStorage.setItem("grades",JSON.stringify(grades));
updateLocks();
}
document.getElementById("user-name").innerText=username;
document.getElementById("username").style.display="none";
document.querySelector("#account-menu button[onclick='login()']").style.display="none";
document.querySelector("#account-menu button[onclick='logout()']").style.display="block";
document.querySelector("#my-certificates-btn").style.display="block";
}

function logout(){
currentUser="";
localStorage.removeItem("heemoUser");
localStorage.setItem("unlocked",JSON.stringify(["html1","css1"]));
unlocked=["html1","css1"];
grades={html:[],css:[]};
localStorage.setItem("grades",JSON.stringify(grades));
updateLocks();
document.getElementById("user-name").innerText="ØºÙŠØ± Ù…Ø³Ø¬Ù„";
document.getElementById("username").style.display="block";
document.querySelector("#account-menu button[onclick='login()']").style.display="block";
document.querySelector("#account-menu button[onclick='logout()']").style.display="none";
document.querySelector("#my-certificates-btn").style.display="none";
}

updateLocks();
if(currentUser){
document.getElementById("user-name").innerText=currentUser;
document.getElementById("username").style.display="none";
document.querySelector("#account-menu button[onclick='login()']").style.display="none";
document.querySelector("#account-menu button[onclick='logout()']").style.display="block";
document.querySelector("#my-certificates-btn").style.display="block";
}

// Quiz
const allQuizzes={
html1:[{q:"HTML ØªØ¹Ù†ÙŠØŸ",options:["Hyper Text Markup Language","Home Tool","High Text"],a:0},{q:"Ø£ÙƒØ¨Ø± Ø¹Ù†ÙˆØ§Ù†ØŸ",options:["h1","h6","head"],a:0},{q:"ÙÙ‚Ø±Ø©ØŸ",options:["p","div","span"],a:0},{q:"ØµÙˆØ±Ø©ØŸ",options:["img","image","pic"],a:0},{q:"Ø±Ø§Ø¨Ø·ØŸ",options:["a","link","href"],a:0},{q:"ØªØ¹Ù„ÙŠÙ‚ØŸ",options:["//","/* */","<!-- -->"],a:2},{q:"Ù‚Ø§Ø¦Ù…Ø©ØŸ",options:["ul","ol","li"],a:0},{q:"Ø³Ø·Ø± Ø¬Ø¯ÙŠØ¯ØŸ",options:["br","lb","break"],a:0}],
html2:[{q:"titleØŸ",options:["title","meta","head"],a:0},{q:"bodyØŸ",options:["body","html","main"],a:0},{q:"altØŸ",options:["alt","src","title"],a:0},{q:"olØŸ",options:["ol","ul","li"],a:0},{q:"tableØŸ",options:["table","tab","grid"],a:0},{q:"trØŸ",options:["tr","td","th"],a:0},{q:"tdØŸ",options:["td","tr","th"],a:0},{q:"thØŸ",options:["th","td","head"],a:0}],
html3:[{q:"Ù…Ø«Ø§Ù„ØŸ",options:["1","2","3"],a:0}],
html4:[{q:"Ù…Ø«Ø§Ù„ØŸ",options:["1","2","3"],a:0}],
html5:[{q:"Ù…Ø«Ø§Ù„ØŸ",options:["1","2","3"],a:0}],
css1:[{q:"CSS ØªØ¹Ù†ÙŠØŸ",options:["Cascading Style Sheets","Creative","Computer"],a:0},{q:"Ù„ÙˆÙ† Ø§Ù„Ø®Ù„ÙÙŠØ©ØŸ",options:["background-color","color","bg"],a:0},{q:"Ù„ÙˆÙ† Ø§Ù„Ù†ØµØŸ",options:["color","text-color","font"],a:0},{q:"Ø­Ø¬Ù… Ø§Ù„Ø®Ø·ØŸ",options:["font-size","text-size","size"],a:0},{q:"Ù…Ø­Ø§Ø°Ø§Ø©ØŸ",options:["text-align","align","center"],a:0},{q:"Ø®Ø· Ø¹Ø±ÙŠØ¶ØŸ",options:["font-weight","bold","weight"],a:0},{q:"paddingØŸ",options:["padding","margin","border"],a:0},{q:"vwØŸ",options:["vw","px","em"],a:0}],
css2:[{q:"Ù…Ø«Ø§Ù„ØŸ",options:["1","2","3"],a:0}],
css3:[{q:"Ù…Ø«Ø§Ù„ØŸ",options:["1","2","3"],a:0}],
css4:[{q:"Ù…Ø«Ø§Ù„ØŸ",options:["1","2","3"],a:0}],
css5:[{q:"Ù…Ø«Ø§Ù„ØŸ",options:["1","2","3"],a:0}]
};

let current=[],idx=0,score=0,currentQuiz="",timerInterval;

function startQuiz(type){
currentQuiz=type;
current=allQuizzes[type];
idx=0;score=0;
document.getElementById("main-content-wrapper").style.display="none";
document.getElementById("quiz-container").style.display="block";
startTimer(5*60);
showQuestion();
}

function showQuestion(){
let q=current[idx];
document.getElementById("question-text").innerText=q.q;
let c=document.getElementById("options-container");
c.innerHTML="";
q.options.forEach((o,i)=>{
let b=document.createElement("button");
b.className="option-btn";
b.innerText=o;
b.onclick=()=>check(i,b);
c.appendChild(b);
});
document.getElementById("next-btn").style.display="none";
}

function check(i,b){
let correct=current[idx].a;
document.querySelectorAll(".option-btn").forEach(x=>x.disabled=true);
if(i===correct){b.style.background="#22c55e";score++;} else{b.style.background="#ef4444";document.querySelectorAll(".option-btn")[correct].style.background="#22c55e";}
document.getElementById("next-btn").style.display="block";
}

function nextQuestion(){
idx++;
if(idx<current.length)showQuestion();
else finishQuiz();
}

function finishQuiz(){
clearInterval(timerInterval);
document.getElementById("quiz-container").style.display="none";
document.getElementById("result-container").style.display="block";
document.getElementById("score-text").innerText=`${score} / ${current.length}`;

// Ø­ÙØ¸ Ø§Ù„Ø¯Ø±Ø¬Ø©
if(currentQuiz.startsWith("html")){grades.html.push(score/current.length*100);}
if(currentQuiz.startsWith("css")){grades.css.push(score/current.length*100);}
localStorage.setItem("grades",JSON.stringify(grades));

// ÙØªØ­ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ§Ù„ÙŠ
const next=order[order.indexOf(currentQuiz)+1];
if(next && !unlocked.includes(next)){
unlocked.push(next);
localStorage.setItem("unlocked",JSON.stringify(unlocked));
}
updateLocks();

// Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©
if(currentQuiz==="html5"){showCertificate("HTML",grades.html);}
if(currentQuiz==="css5"){showCertificate("CSS",grades.css);}
}

function quitQuiz(){
clearInterval(timerInterval);
document.getElementById("quiz-container").style.display="none";
document.getElementById("main-content-wrapper").style.display="block";
}

function startTimer(seconds){
clearInterval(timerInterval);
function tick(){
let min=Math.floor(seconds/60);
let sec=seconds%60;
document.getElementById("timer-bar").innerText=`Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: ${min}:${sec<10?'0'+sec:sec}`;
if(seconds<=0){finishQuiz();}
seconds--;
}
tick();
timerInterval=setInterval(tick,1000);
}

// Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø¨Ø¹Ø¯ HTML5 Ø£Ùˆ CSS5
function showCertificate(lang,arr){
document.getElementById("certificate-container").style.display="block";
document.getElementById("quiz-container").style.display="none";
document.getElementById("main-content-wrapper").style.display="none";
document.getElementById("result-container").style.display="none";
document.getElementById("cert-lang").innerText=`Ø§Ù„Ù„ØºØ©: ${lang}`;
document.getElementById("cert-user").innerText=`Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${currentUser}`;
const avg=Math.round(arr.reduce((a,b)=>a+b,0)/arr.length);
document.getElementById("cert-score").innerText=`Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¯Ø±Ø¬Ø©: ${avg} %`;
}

// Ø´Ù‡Ø§Ø¯Ø§ØªÙƒ
document.getElementById("my-certificates-btn").addEventListener("click",showMyCertificates);
function showMyCertificates(){
document.getElementById("main-content-wrapper").style.display="none";
document.getElementById("quiz-container").style.display="none";
document.getElementById("result-container").style.display="none";
document.getElementById("certificate-container").style.display="none";

const container=document.getElementById("my-certificates-container");
const list=document.getElementById("certificates-list");
list.innerHTML="";

const gradesStored=JSON.parse(localStorage.getItem("grades"))||{html:[],css:[]};

if(gradesStored.html.length>=5){
const avgHtml=Math.round(gradesStored.html.reduce((a,b)=>a+b,0)/gradesStored.html.length);
list.innerHTML+=`<p>HTML ğŸŸ  Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¯Ø±Ø¬Ø§Øª: ${avgHtml} %</p>`;
}else{list.innerHTML+=`<p>HTML ğŸŸ  Ù„Ù… ØªÙƒÙ…Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø¨Ø¹Ø¯</p>`;}

if(gradesStored.css.length>=5){
const avgCss=Math.round(gradesStored.css.reduce((a,b)=>a+b,0)/gradesStored.css.length);
list.innerHTML+=`<p>CSS ğŸ”µ Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¯Ø±Ø¬Ø§Øª: ${avgCss} %</p>`;
}else{list.innerHTML+=`<p>CSS ğŸ”µ Ù„Ù… ØªÙƒÙ…Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø¨Ø¹Ø¯</p>`;}

container.style.display="block";
}

function closeCertificates(){
document.getElementById("my-certificates-container").style.display="none";
document.getElementById("main-content-wrapper").style.display="block";
}

// Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø­Ø³Ø§Ø¨
document.getElementById("account-icon").addEventListener("click",()=>{
const menu=document.getElementById("account-menu");
menu.style.display=(menu.style.display==="block")?"none":"block";
});
</script>

</body>
</html>
